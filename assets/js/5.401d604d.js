(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{154:function(t,s,e){t.exports=e.p+"assets/img/zsh-plugins.d2f0e132.png"},155:function(t,s,e){t.exports=e.p+"assets/img/zsh-theme.626e5ad4.png"},156:function(t,s,e){t.exports=e.p+"assets/img/zsh-after.53be29d3.png"},157:function(t,s,e){t.exports=e.p+"assets/img/zsh-before.21757f06.png"},158:function(t,s,e){t.exports=e.p+"assets/img/htop.87e6c840.png"},167:function(t,s,e){"use strict";e.r(s);var a=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"centos-7-安装小记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos-7-安装小记","aria-hidden":"true"}},[this._v("#")]),this._v(" CentOS 7 安装小记")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"准备工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工作","aria-hidden":"true"}},[this._v("#")]),this._v(" 准备工作")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("本地 Windows，用 git-bash，用其自带的 ssh 来登录 CentOS")]),s("li",[this._v("某云 2 核 2G 云主机，50G 硬盘，"),s("em",[this._v("要买标准主机，别买什么建站专用啥的，除非你愿意")])]),s("li",[this._v("云平台提供 CentOS 7 镜像，选最新版即可，"),s("em",[this._v("通常植入了监控程序，酌情选择")])]),s("li",[this._v("设置好 root 密码，搓搓手，云平台自动安装好，记下服务器公网 IP")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("ssh")]),this._v(" root@主机IP\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("em",[this._v("如果 ssh 登录失败，并出现 "),s("code",[this._v("know host")]),this._v(" 字眼的错误，需要删除本地用户目录下 "),s("code",[this._v(".ssh/known_hosts")]),this._v(" 文件。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("Are you sure you want to continue connecting (yes/no)?\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("输入 "),s("code",[this._v("yes")]),this._v(" 按回车确定，再输入密码。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"初始操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始操作","aria-hidden":"true"}},[this._v("#")]),this._v(" 初始操作")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"更改用户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改用户","aria-hidden":"true"}},[this._v("#")]),this._v(" 更改用户")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("useradd")]),this._v(" cnine\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("passwd")]),this._v(" cnine\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("关闭 root 的 ssh 登录，使用 "),s("code",[this._v("vim /etc/ssh/sshd_config")]),this._v(" 编辑配置文件，找到这一段：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-ini extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ini"}},[s("code",[this._v("#PermitRootLogin yes\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("把包含 "),s("code",[this._v("PermitRootLogin")]),this._v(" 这一行改为 "),s("code",[this._v("PermitRootLogin no")]),this._v(" ，注意删除 "),s("code",[this._v("#")]),this._v(" 符号，保存，重启 ssh 服务：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("service")]),this._v(" sshd restart\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("现在 root 用户就无法直接登录，只能先登录普通用户，通过 "),s("code",[this._v("su")]),this._v(" 命令，输入 root 密码切换至 root 用户。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"更新安装源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新安装源","aria-hidden":"true"}},[this._v("#")]),this._v(" 更新安装源")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("mv")]),this._v(" /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("wget")]),this._v(" -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("还差 EPEL 源，"),s("em",[this._v("有旧的也可以先备份")]),this._v(" ：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("wget")]),this._v(" -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-7.repo\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("添加好了所有源，执行 "),s("code",[this._v("yum makecache")]),this._v(" 生成缓存，现在大部分软件就可以开始装了。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"更新软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新软件","aria-hidden":"true"}},[this._v("#")]),this._v(" 更新软件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意！如果是公家的服务器，千万不要手贱去更新！")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yum upgrade -y\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("亦可使用 "),s("code",[this._v("yum update -y")]),this._v(" ，只是更新，不会淘汰过时的软件。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"常用工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 常用工具")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"htop：实用系统监控"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#htop：实用系统监控","aria-hidden":"true"}},[this._v("#")]),this._v(" htop：实用系统监控")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(158),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yum "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("htop")]),this._v(" -y\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("直接使用 "),s("code",[this._v("htop")]),this._v(" 命令进入界面，ESC 或 Ctrl+C 退出。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"zsh：尽显逼格的-shell"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#zsh：尽显逼格的-shell","aria-hidden":"true"}},[this._v("#")]),this._v(" zsh：尽显逼格的 shell")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(157),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(156),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yum "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" zsh "),s("span",{attrs:{class:"token function"}},[this._v("git")]),this._v(" -y\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("sh -c "),e("span",{attrs:{class:"token string"}},[t._v('"'),e("span",{attrs:{class:"token variable"}},[e("span",{attrs:{class:"token variable"}},[t._v("$(")]),e("span",{attrs:{class:"token function"}},[t._v("wget")]),t._v(" https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -"),e("span",{attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("sh -c "),e("span",{attrs:{class:"token string"}},[t._v('"'),e("span",{attrs:{class:"token variable"}},[e("span",{attrs:{class:"token variable"}},[t._v("$(")]),e("span",{attrs:{class:"token function"}},[t._v("curl")]),t._v(" -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh"),e("span",{attrs:{class:"token variable"}},[t._v(")")])]),t._v('"')]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("输入 "),s("code",[this._v("zsh")]),this._v(" 打开新世界，"),s("em",[this._v("用户登录时偶尔会有 zsh 的更新提示，别慌。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("vim ~/.zshrc")]),this._v(" 配置主题、插件：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(155),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:e(154),alt:""}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"常用软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用软件","aria-hidden":"true"}},[this._v("#")]),this._v(" 常用软件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"nodejs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs","aria-hidden":"true"}},[this._v("#")]),this._v(" NodeJS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以 8.x 为例， "),s("em",[this._v("已安装了低版本可以先 "),s("code",[this._v("yum erase nodejs -y")]),this._v(" 卸载。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -sL https://rpm.nodesource.com/setup_8.x "),s("span",{attrs:{class:"token operator"}},[this._v("|")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("bash")]),this._v(" -\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yum "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" nodejs -y\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("curl")]),this._v(" -sSL https://get.daocloud.io/docker "),s("span",{attrs:{class:"token operator"}},[this._v("|")]),this._v(" sh\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yum remove docker \\ \n\t\t\tdocker-common \\ \n\t\t\tcontainer-selinux \\ \n\t\t\tdocker-selinux \\ \n\t\t\tdocker-engine \n")])])])}],r=e(0),n=Object(r.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),e("BuddyLogo",{attrs:{who:"centos"}}),e("p",[t._v("使用 CentOS 有一段时间了，作为服务器再好不过，这里记下入门操作，以及常用的软件安装，以云服务器为例。不足之处待指正。")]),t._m(1),t._m(2),e("p",[t._v("有公网 IP，现在就可以直接登录，打开 git-bash 输入：")]),t._m(3),t._m(4),e("p",[t._v("第一次访问：")]),t._m(5),t._m(6),t._m(7),t._m(8),e("p",[t._v("root 用户位高权重，误操作或被盗，后果很严重，第一步就应该新建小用户。")]),e("p",[t._v("可选择自己喜欢的昵称，这里以 cnine 用户名为例：")]),t._m(9),e("p",[t._v("设置新用户的登录密码：")]),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),e("p",[t._v("先备份旧源：")]),t._m(17),e("p",[t._v("直接上国内大厂的源，"),e("a",{attrs:{href:"https://opsx.alibaba.com/mirror",target:"_blank",rel:"noopener noreferrer"}},[t._v("在此"),e("OutboundLink")],1),t._v("，暴力添加：")]),t._m(18),e("p",[t._v("或者：")]),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),e("p",[t._v("用 root 用户进行更新，包管理器 yum 需要 root 的权限。")]),e("p",[t._v("暴力更新：")]),t._m(25),t._m(26),e("p",[t._v("更新后接着就可以安装常用的工具，慎重起见可以重启系统。")]),t._m(27),t._m(28),t._m(29),e("p",[t._v("左上角分别是CPU核心、内存、交换空间使用率；右上角是进程数、负载情况、开机时间；下面是所有的进程信息，按 F5 可切换树状结构，F9 消灭选中的进程。")]),e("p",[t._v("安装：")]),t._m(30),t._m(31),t._m(32),e("p",[t._v("使用前：")]),t._m(33),e("p",[t._v("使用后（af-magic 主题）：")]),t._m(34),e("p",[t._v("zsh 社区推动下，诞生了丰富的插件和主题，shell 中的利器。")]),e("p",[t._v("安装 zsh 和 git：")]),t._m(35),e("p",[t._v("安装 oh-my-zsh 施以魔法加持，在任意用户下安装 oh-my-zsh，只对该用户生效：")]),t._m(36),e("p",[t._v("或者：")]),t._m(37),t._m(38),t._m(39),t._m(40),t._m(41),e("p",[t._v("参考 "),e("a",{attrs:{href:"http://ohmyz.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("oh-my-zsh 官方"),e("OutboundLink")],1),t._v(" ，以及 "),e("a",{attrs:{href:"https://github.com/robbyrussell/oh-my-zsh/wiki/Themes",target:"_blank",rel:"noopener noreferrer"}},[t._v("主题"),e("OutboundLink")],1),t._v(" 、 "),e("a",{attrs:{href:"https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("插件"),e("OutboundLink")],1),t._v(" ，推荐 docker、systemd、git 插件。")]),t._m(42),e("p",[t._v("在此收集开发中常用的某些软件特有的安装渠道，均以 root 用户操作。")]),t._m(43),e("p",[t._v("推荐通过 "),e("a",{attrs:{href:"https://github.com/nodesource/distributions",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodesource"),e("OutboundLink")],1),t._v(" 的安装方式获取。")]),t._m(44),e("p",[t._v("使用 nodesource 提供的对应 CentOS 的安装脚本：")]),t._m(45),e("p",[t._v("nodesource 的源就添加成功了，现在用正常的安装方式：")]),t._m(46),t._m(47),e("p",[t._v("国内使用 Docker，资源的下载很慢，推荐国内 DaoCloud 的\n"),e("a",{attrs:{href:"https://download.daocloud.io/Docker_Mirror/Docker",target:"_blank",rel:"noopener noreferrer"}},[t._v("安装脚本"),e("OutboundLink")],1),t._v(" 、\n"),e("a",{attrs:{href:"http://get.daocloud.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("下载页"),e("OutboundLink")],1),t._v(" 以及 "),e("a",{attrs:{href:"https://www.daocloud.io/mirror#accelerator-doc",target:"_blank",rel:"noopener noreferrer"}},[t._v("加速器"),e("OutboundLink")],1),t._v(" ，\n官方还提供 "),e("a",{attrs:{href:"http://guide.daocloud.io/dcs",target:"_blank",rel:"noopener noreferrer"}},[t._v("学习文档"),e("OutboundLink")],1),t._v(" 。")]),e("p",[t._v("安装：")]),t._m(48),e("p",[t._v("卸载：")]),t._m(49)],1)},a,!1,null,null,null);s.default=n.exports}}]);